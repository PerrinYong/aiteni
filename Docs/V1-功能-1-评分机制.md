我直接给你一套**可以落地的小程序量表设计**：
包含【问题列表】【答案选项】【数据结构建议】【计算方法（含硬性上限 + 模糊评分，解决“1+4 vs 2+3”问题）】。

---

## 一、整体设计思路（方便你实现）

1. **多维度覆盖**（对应你那套 NTRP 描述的统一维度）

   * 底线综合（稳定性 + 深度）：Q1, Q2
   * 正手：Q3
   * 反手：Q4
   * 发球：Q5, Q6
   * 接发球：Q7
   * 网前/高压：Q8
   * 步伐与场地覆盖：Q9
   * 战术与心理：Q10
   * 实战成绩：Q11
   * 训练背景 / 频率（校准）：Q12

2. **每个选项对应一个“中心级别”**（center_level）

   * 比如某个选项写的是：

     > “能打出稳定中速球，方向控制不错，但深度变化不足”
     > → 这其实就是典型 **3.5** 描述
     > → 给这个选项标记 `center_level = 3.5`。

3. **模糊评分（而不是简单平均）**

   * 对每个选项，不是直接加一个“3.5 分”，
     而是给附近级别都加一点“支持度”：

   * 示例：`spread = 1.0`，对每个 NTRP 等级 L（1.0~7.0），

     ```text
     weight(L) = max(0, 1 - |L - center_level| / spread)
     ```

     * L = center_level → 权重 1.0
     * L 与 center 差 0.5 → 权重 0.5
     * L 差 ≥ 1.0 → 权重 0

   * 这样：

     * 选项集中在 2.0–3.0 → 得到“中段”形状的支持
     * 选项集中在 1.0 和 4.0 → 得到“两头高，中间低”的形状
     * **1+4 和 2+3 的分布结果就完全不同**，解决你说的那个问题。

4. **硬性上限（Hard Cap）**

   * 某些问题的某些选项**直接限制最大等级**，比如：

     * “连续 4 拍都很困难” → `max_level_cap = 2.5`
   * 最终等级 = `min(模糊评分算出来的等级, 所有硬上限的最小值)`
   * 这样可以避免“靠自我感觉选几个高项就冲上 4.5”。

---

## 二、NTRP 等级编码

统一用数值表示，方便计算：

```text
LEVELS = [1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0, 5.5, 6.0, 7.0]
```

你也可以只开放到 5.0 或 5.5（业余主战场），6.0/7.0 只作为极少数选项。

---

## 三、问题 & 选项设计（12 题）

> 顺序可以在前端随机打乱；
> 每个问题我用：
>
> * `Qx`：问题文字
> * `Ax-y`：选项文字 + `center_level` + 可选 `hard_cap`
>   你实现时可以用 JSON 存。

---

### Q1. 底线对拉能力（硬性门槛之一）

> **你和水平相近的球友，从底线相互对拉时（中速，不是全力爆抽），通常能稳定打多少拍？**

* A1-1：

  > 很难连续超过 3 拍，经常 1～2 拍就下网或出界

  * `center_level = 2.0`
  * `hard_cap = 2.5`

* A1-2：

  > 偶尔能打到 4～6 拍，但失误仍然很多

  * `center_level = 2.5`
  * `hard_cap = 3.0`

* A1-3：

  > 经常能打到 6～10 拍，中速球勉强稳定，但深度方向不太可控

  * `center_level = 3.0`

* A1-4：

  > 经常能打到 10 拍以上，双方主要靠主动进攻或战术变化结束回合

  * `center_level = 3.5`

* A1-5：

  > 在中速对拉中失误很少，更多是通过主动加速、变线得分或失分

  * `center_level = 4.0`

* A1-6：

  > 与强度接近比赛节奏对拉，多拍中失误率很低，能主动控制回合节奏

  * `center_level = 4.5`

---

### Q2. 正手整体感觉

> **正手底线球是你目前的水平中，大概是什么状态？**

* A2-1：

  > 能把球打回去，但动作不完整，方向深度都很随机

  * `center_level = 2.0`

* A2-2：

  > 中速球能勉强控制方向，但深度偏短，偶尔“打顺了”会感觉不错

  * `center_level = 2.5`

* A2-3：

  > 中速球方向控制不错，能压到中后场，但深度变化不够，进攻能力一般

  * `center_level = 3.0`

* A2-4：

  > 能稳定打出带上旋的中速球，有意识打边线/空当，但偶尔会“发飘”

  * `center_level = 3.5`

* A2-5：

  > 能在大部分回合中用正手主动压制对手，控制方向、深度和旋转

  * `center_level = 4.0`

* A2-6：

  > 正手是你的主要武器，可以用来主导多拍、发起进攻甚至一拍得分

  * `center_level = 4.5`

---

### Q3. 反手可靠性

> **说说你目前最典型的反手底线表现：**

* A3-1：

  > 基本不敢用反手，尽量绕到正手打，反手出手就没底

  * `center_level = 2.0`
  * `hard_cap = 3.0`（有点狠，但确实是大短板）

* A3-2：

  > 反手能勉强把球挡回去，但经常短、飘、没有方向

  * `center_level = 2.5`

* A3-3：

  > 中速球时，反手能稳定回场，有一定方向控制，但深度一般

  * `center_level = 3.0`

* A3-4：

  > 反手能跟对手中速对拉，方向控制不错，遇到高球、快球会吃力

  * `center_level = 3.5`

* A3-5：

  > 能打出带上旋或者切削变化的反手，有时可以主动进攻

  * `center_level = 4.0`

* A3-6：

  > 反手已不是明显短板，能在多数情况下打出有质量的主动球

  * `center_level = 4.5`

---

### Q4. 发球稳定性（硬性门槛之一）

> **在一场普通比赛中，你的发球整体情况最接近哪种？**

* A4-1：

  > 经常双误，一局里 2～3 个双误很常见，有时甚至发不进

  * `center_level = 2.0`
  * `hard_cap = 3.0`

* A4-2：

  > 大部分能发进，但速度慢、落点随机，更多是把球“发进去开始这分”

  * `center_level = 2.5`

* A4-3：

  > 一发能偶尔打出有力量的球，但经常出界；二发较慢但比较稳

  * `center_level = 3.0`

* A4-4：

  > 一发有一定攻击性，二发能稳定落点，不怎么担心双误

  * `center_level = 3.5`

* A4-5：

  > 能通过发球主动针对对手弱点，偶尔直接发球得分或逼出短球

  * `center_level = 4.0`

* A4-6：

  > 发球是你重要武器，有明显的落点和旋转变化，对同水平对手构成威胁

  * `center_level = 4.5`

---

### Q5. 接发球能力

> **面对同水平对手的发球，你的接发通常是：**

* A5-1：

  > 对稍微快一点的发球就容易慌，很多球直接下网或打飞

  * `center_level = 2.0`

* A5-2：

  > 慢球能稳定接进，中速发球接起来很吃力，更多在“挡回去”

  * `center_level = 2.5`

* A5-3：

  > 中速发球可以稳定接进并控制方向，对明显大力一发会显得被动

  * `center_level = 3.0`

* A5-4：

  > 能接好大多数发球，能主动选择打向对方弱点或制造高球/短球

  * `center_level = 3.5`

* A5-5：

  > 遇到二发软一点的，对方会很头疼，因为你接发经常直接给压力

  * `center_level = 4.0`

* A5-6：

  > 接发可以作为你主动抢攻的得分点，经常在一两拍内结束回合

  * `center_level = 4.5`

---

### Q6. 网前与高压

> **你对“主动上网 + 截击/高压”的感觉是？**

* A6-1：

  > 基本不会主动上网，网前接球非常不踏实，宁愿退在底线

  * `center_level = 2.0`

* A6-2：

  > 偶尔被动来到网前，多数只是把球挡回去，反手截击几乎不会

  * `center_level = 2.5`

* A6-3：

  > 正手截击还算稳定，反手截击容易出问题；高压球有时能打好

  * `center_level = 3.0`

* A6-4：

  > 上网意识增强，步伐还可以，能完成大部分正手截击和常规高压

  * `center_level = 3.5`

* A6-5：

  > 能在合适时机随球上网，通过 1～2 拍截击或高压结束这一分

  * `center_level = 4.0`

* A6-6：

  > 网前是你的得分手段之一，反手截击、低球截击、高压都很有把握

  * `center_level = 4.5`

---

### Q7. 步伐与场地覆盖

> **对于“被拉到两边 + 突然短球/高吊”的情况，你通常表现是？**

* A7-1：

  > 只要对方多调动几次，我就跑不到位，经常被空场或放小球吊死

  * `center_level = 2.0`

* A7-2：

  > 侧向移动可以，但对突然的短球、高吊跟不上节奏

  * `center_level = 2.5`

* A7-3：

  > 能覆盖大部分底线区域，短球有时来得及，高吊球多数能退回去

  * `center_level = 3.0`

* A7-4：

  > 场地覆盖能力不错，能连续跑动后仍打出稳定回球

  * `center_level = 3.5`

* A7-5：

  > 即使对手刻意调动，你也能通过步伐调整保持良好击球点

  * `center_level = 4.0`

* A7-6：

  > 长回合中体能和步伐仍然在线，很少因为跑不到而直接丢分

  * `center_level = 4.5`

---

### Q8. 战术意识与心理

> **在比赛中，你更像下面哪一种？**

* A8-1：

  > 主要就是把球打回去，几乎不去想“打到哪里”“怎么打”

  * `center_level = 2.0`

* A8-2：

  > 偶尔会想到“打反手”，但执行得不是很稳定

  * `center_level = 2.5`

* A8-3：

  > 会观察对手弱点，尝试用深球、角度来针对，但经常心态崩导致失误

  * `center_level = 3.0`

* A8-4：

  > 能按计划打对手弱点，用挑高、放小、上网等方式改变节奏

  * `center_level = 3.5`

* A8-5：

  > 能根据比分/对手风格调整打法，关键分经常执行得比较坚决

  * `center_level = 4.0`

* A8-6：

  > 很少“输给自己”，大部分时候是因为对方整体实力更强而输球

  * `center_level = 4.5`

---

### Q9. 单打对抗结果（硬性参考）

> **和稳定在“城市里普通网球俱乐部高手水平”的球友（大约 4.0 左右）打一盘 6 局制，典型比分更接近？**

> 如果你不确定 4.0 是什么，可以理解为：
> “技术比较全面，经常打球，参加市级业余比赛经常有竞争力、有时能拿名次的人”。

* A9-1：

  > 通常很难拿到 2 局以上（1:6、0:6 更常见）

  * `center_level = 2.5`
  * `hard_cap = 3.0`

* A9-2：

  > 偶尔能拿到 2～3 局（2:6、3:6），很少有胶着的盘

  * `center_level = 3.0`

* A9-3：

  > 比赛经常是 3:6、4:6，能和对方有一定拉锯

  * `center_level = 3.5`

* A9-4：

  > 经常能打到 5:7、6:4 这种比分，互有胜负

  * `center_level = 4.0`

* A9-5：

  > 你通常能赢这样的对手（6:3 以上更常见）

  * `center_level = 4.5`

---

### Q10. 双打意识（可稍低权重）

> **在双打中，你对站位和配合的理解是？**

* A10-1：

  > 经常和搭档撞位，不知道谁该去接这球

  * `center_level = 2.0`

* A10-2：

  > 大致知道一前一后/并排站位，但实战中经常忘记调整

  * `center_level = 2.5`

* A10-3：

  > 能按基本原则站位，偶尔会主动抢网封中路

  * `center_level = 3.0`

* A10-4：

  > 会根据发球、接发主动移动，知道什么时候换位、什么时候抢网

  * `center_level = 3.5`

* A10-5：

  > 能通过和搭档配合控制大部分回合节奏，网前预判明显

  * `center_level = 4.0`

---

### Q11. 训练频率和时长（校准维度）

> **过去 12 个月里，你平均每周打网球/训练的频率是？**

* A11-1：

  > 不固定，有一搭没一搭，间断比较多

  * `center_level = 2.5`

* A11-2：

  > 大概每周 1 次

  * `center_level = 3.0`

* A11-3：

  > 大概每周 2 次

  * `center_level = 3.5`

* A11-4：

  > 每周 3 次或以上（包括对抗和专项练习）

  * `center_level = 4.0`

* A11-5：

  > 类似半职业/专业训练节奏（几乎每天，有系统练习）

  * `center_level = 5.0`

---

### Q12. 专业背景（拉高上限用）

> **你的网球经历中，是否有系统训练或专业背景？**

* A12-1：

  > 完全是业余自学/跟教练上兴趣课，没有系统专业队训练

  * `center_level = 3.0`

* A12-2：

  > 曾在校队、俱乐部青训接受过一段系统训练

  * `center_level = 4.0`

* A12-3：

  > 曾是市队、省队或类似水平的专业/半专业训练

  * `center_level = 5.0`

* A12-4：

  > 曾参加国家级、国际级比赛，有职业/准职业经历

  * `center_level = 6.0`

---

## 四、评分算法（核心逻辑）

### 1. 数据结构示例（伪 JSON）

```jsonc
{
  "levels": [1.0,1.5,2.0,2.5,3.0,3.5,4.0,4.5,5.0],
  "spread": 1.0,
  "questions": [
    {
      "id": "Q1",
      "weight": 1.5,
      "options": [
        {
          "id": "Q1-A1",
          "center_level": 2.0,
          "hard_cap": 2.5
        },
        {
          "id": "Q1-A2",
          "center_level": 2.5,
          "hard_cap": 3.0
        },
        {
          "id": "Q1-A3",
          "center_level": 3.0
        }
        // ...
      ]
    }
    // ...
  ]
}
```

### 2. 模糊支持度累积

伪代码：

```python
LEVELS = [1.0,1.5,2.0,2.5,3.0,3.5,4.0,4.5,5.0]
spread = 1.0  # 你也可以调为 0.75 之类

def membership(level, center, spread):
    diff = abs(level - center)
    if diff >= spread:
        return 0.0
    return 1.0 - diff / spread  # 三角形隶属度

def evaluate(answers):
    # answers: {question_id: option_id}
    support = {L: 0.0 for L in LEVELS}
    hard_cap = max(LEVELS)  # 初始上限是最高级

    for q in questions:
        opt = get_option(q, answers[q.id])
        center = opt.center_level
        q_weight = q.weight  # 可根据维度不同给不同权重

        # 模糊加分
        for L in LEVELS:
            w = membership(L, center, spread)
            support[L] += w * q_weight

        # 硬 cap（如果有）
        if hasattr(opt, "hard_cap"):
            hard_cap = min(hard_cap, opt.hard_cap)

    # 1) 找到支持度最高的等级
    best_level = max(LEVELS, key=lambda L: support[L])

    # 2) 计算“期望值”作为微调（可选）
    total_support = sum(support.values())
    if total_support > 0:
        expectation = sum(L * support[L] for L in LEVELS) / total_support
    else:
        expectation = best_level

    # 3) 应用硬 cap
    final_level = min(expectation, hard_cap)

    return final_level, support
```

### 3. 输出文案

* 可以把最终结果**四舍五入到最近的 0.5 级**，比如：

  * `final_level = 3.36` → 展示为 **3.5**
* 然后对照你之前那套 NTRP 描述，

  * 展示：

    * 总等级：3.5
    * 各维度倾向（可以按问题维度再算一个子分）
    * 简短建议（比如“反手偏弱”“发球可再发力”等）

---

## 五、如何解决你说的「1 和 4 比较多 vs 2 和 3 比较多」问题

举个简单例子（只看 LEVEL=2,3,4）：

* 选项中心在 2.0：

  * 对 2.0 支持 = 1.0
  * 对 3.0 支持 ≈ 0.0（当 spread=1.0 时其实还有一点，你可按需求调）

* 选项中心在 3.0：

  * 对 3.0 支持最高，对 2.0 和 4.0 都有一定支持

* 选项中心在 4.0：

  * 对 4.0 支持最高，对 3.0 有少量，对 2.0 几乎没有

如果一个人：

* 多选“2.0 + 4.0”型选项 → 支持曲线在两头高、中间低
* 多选“2.5 + 3.0 + 3.5”型选项 → 支持在中段集中

**最终 `support[L]` 的形状完全不同**，
就不会出现“1+4 和 2+3 平均一下都 2.5”这种粗暴现象。

---

如果你愿意，下一步我可以帮你：

* 把这一套问卷 + scoring 直接抽成 **完整 JSON 配置**，
* 再加一个 “按问题维度输出细分评语”的模板（比如自动生成：正手=3.5、发球=3.0、网前=2.5 等专属建议）。
